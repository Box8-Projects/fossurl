"use strict";var pushJSON=function(e,t){var n=new XMLHttpRequest;n.open("POST",e),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.send(JSON.stringify(t))},cinp=function(){document.getElementById("erbox").innerHTML="";var e=document.getElementById("custominput").value,t=JSON.parse(fetchJSON(endpoint+"/"+e)).result;return null==t&&(null==t||void 0)},geturl=function(){return document.getElementById("urlinput").value},getrandom=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},genhash=function(){""==document.getElementById("custominput").value?(window.location.hash=getrandom(),check_is_unique()):window.location.hash=document.getElementById("custominput").value},check_is_unique=function(){var e=window.location.hash.substr(1);null!=JSON.parse(fetchJSON(endpoint+"/"+e)).result&&genhash()},copyer=function(e){var t=document.getElementById(e);if(document.selection)if("input"===t.nodeName.toLowerCase())document.getElementById(e).select(),document.execCommand("copy");else{var n=document.body.createTextRange();n.moveToElementText(document.getElementById(e)),n.select(),document.execCommand("copy")}else if(window.getSelection)if("input"===t.nodeName.toLowerCase())document.getElementById(e).select(),document.execCommand("copy");else{var o=document.createRange();o.selectNode(document.getElementById(e)),window.getSelection().removeAllRanges(),window.getSelection().addRange(o),document.execCommand("copy")}},send_request=function(e){var t=e,n=endpoint+"/"+window.location.hash.substr(1);pushJSON(n,t),document.getElementById("shortenedURL").value=window.location.href,document.getElementById("sucess").innerHTML="Short URL Copied to Clipboard!",copyer("shortenedURL")},shorturl=function(){var e=geturl();/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/.test(e)?(document.getElementById("erbox").innerHTML="")==document.getElementById("custominput").value?(genhash(),send_request(e)):/^([a-zA-Z0-9 _-]+)$/.test(document.getElementById("custominput").value)?cinp()?(document.getElementById("erbox").style.color="cyan",document.getElementById("erbox").innerHTML=" Custom Address Available ✔️",genhash(),send_request(e)):(document.getElementById("erbox").style.color="red",document.getElementById("erbox").innerHTML="❌ Custom Address Already Used, Choose Another",document.getElementById("custominput").placeholder=document.getElementById("custominput").value,document.getElementById("custominput").value=""):(document.getElementById("erbox").style.color="red",document.getElementById("erbox").innerHTML="Invalid Custom URL! Use only Alphanumerics and underscore!",document.getElementById("custominput").placeholder=document.getElementById("custominput").value,document.getElementById("custominput").value=""):(document.getElementById("erbox").style.color="red",document.getElementById("erbox").innerHTML="❌ Invalid URL")};document.getElementById("sbtn").addEventListener("click",shorturl);